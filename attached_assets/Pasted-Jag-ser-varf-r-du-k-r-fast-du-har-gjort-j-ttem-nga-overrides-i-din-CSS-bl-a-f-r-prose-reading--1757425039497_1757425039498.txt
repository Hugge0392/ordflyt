Jag ser varf√∂r du k√∂r fast: du har gjort j√§ttem√•nga overrides i din CSS (bl.a. f√∂r .prose, .reading-content.accessibility-enhanced, .navigation-button, m.m.), och just nu konkurrerar de med varandra. D√§rf√∂r blir det ‚Äúvita plattor‚Äù eller att dina inst√§llningar inte biter.

F√∂r att l√∂sa ditt f√∂rsta problem (att bakgrunder dyker upp fast du bara vill ha texten i fokusl√§get ren och utan vita rutor) kan du b√∂rja med en enkel ‚Äúkillswitch‚Äù:

1. L√§gg allt bakgrundsansvar p√• containern

Du har redan detta, men f√∂renkla det s√• h√§r:

.reading-content.accessibility-enhanced {
  background-color: var(--accessibility-bg-color) !important;
  color: var(--accessibility-text-color) !important;
  border-color: var(--accessibility-border-color) !important;
}

2. Nolla alla barns bakgrunder

I st√§llet f√∂r 20 olika selektorer kan du ha en tydlig reset:

.reading-content.accessibility-enhanced *:not(img):not(video):not(canvas) {
  background: transparent !important;
  box-shadow: none !important;
}


Vill du √§ven blockera pseudo-element:

.reading-content.accessibility-enhanced *::before,
.reading-content.accessibility-enhanced *::after {
  background: transparent !important;
  box-shadow: none !important;
}

3. S√§tt textf√§rg p√• allt

Du har m√•nga duplicerade regler. Det r√§cker med:

.reading-content.accessibility-enhanced,
.reading-content.accessibility-enhanced * {
  color: var(--accessibility-text-color) !important;
  font-family: var(--accessibility-font-family) !important;
  font-size: var(--accessibility-font-size) !important;
  line-height: var(--accessibility-line-height) !important;
}

4. UI-element (knappar, indikatorer, progressbar)

De verkar du vilja isolera (inte p√•verkas av accessibility-inst√§llningar). D√• √§r b√§sta v√§gen att ge dem en egen klass (vilket du redan gjort med .unique-prev-question-btn, .navigation-page-counter osv.) och s√§tta dem sist i CSS, med en neutral vit/svart styling.

üëâ Kort sagt: l√∂sningen √§r att rensa bort 80% av duplicerade overrides och ers√§tta med tre enkla block:

Container ‚Üí ansvarar f√∂r bakgrund.

Reset f√∂r alla barn ‚Üí inga bakgrunder.

Text override ‚Üí f√§rg, font, line-height.

Vill du att jag ska skriva en slimmad version av din CSS (typ 50 rader i st√§llet f√∂r 700) som l√∂ser just accessibility-fallet, utan att sabba Tailwind/shadcn?

Jag tror jag ser varf√∂r ditt f√∂rsta problem uppstod. Just nu importerar du fonterna s√•h√§r:

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=OpenDyslexic:wght@400;700&display=swap');


üëâ Problemet: Google Fonts erbjuder inte OpenDyslexic. Den finns inte i deras katalog, s√• den raden g√∂r ingenting. D√§rf√∂r faller Tailwind tillbaka till sans-serif.

‚úÖ S√• h√§r kan du l√∂sa det

Ladda ner OpenDyslexic som webfont fr√•n https://opendyslexic.org
 eller via ett CDN som https://github.com/antijingoist/opendyslexic
.

L√§gg filerna (.woff2 √§r b√§st) i t.ex. public/fonts/.

Deklarera fonten i din CSS:

@font-face {
  font-family: 'OpenDyslexic';
  src: url('/fonts/OpenDyslexic-Regular.woff2') format('woff2'),
       url('/fonts/OpenDyslexic-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'OpenDyslexic';
  src: url('/fonts/OpenDyslexic-Bold.woff2') format('woff2'),
       url('/fonts/OpenDyslexic-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
}


Anv√§nd den i :root:

:root {
  --font-dyslexic: 'OpenDyslexic', system-ui, sans-serif;
}


Sen i din Tailwind / komponenter:

.reading-content.accessibility-enhanced {
  font-family: var(--font-dyslexic) !important;
}


üîë Kort sagt: ditt CSS-import f√∂r OpenDyslexic fungerar inte eftersom Google Fonts inte har det. Du beh√∂ver hosta fonten sj√§lv eller ta den via ett CDN.

Vill du att jag visar dig ett f√§rdigt exempel d√§r vi h√§mtar OpenDyslexic via ett gratis CDN-l√§nk (s√• du slipper l√§gga filer i public/fonts/)?